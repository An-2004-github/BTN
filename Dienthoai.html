<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chua Dat Ten</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <!-- Bootstrap 4 CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

</head>
<body>
    <header class="header">
        <div class="top-row">
            <img src="" alt="Logo" class="logo">
            <div class="center-group">
                <a href="#" class="menu-link">Giới thiệu</a>
                    <div class="dropdown">
                        <button class="menu-btn"><i class="fas fa-bars"></i> Danh mục</button>
                            <div class="dropdown-content">
                            <div class="submenu">
                                <a href="#">Điện thoại</a>
                                     <div class="submenu-content">
                                        <a href="#">Apple</a>
                                        <a href="#">Samsung</a>
                                        <a href="#">Oppo</a>
                                        <a href="#">Xiaomi</a>
                                        <a href="#">Realme</a>
                                        <a href="#">Vivo</a>
                                    </div>
                            </div>

                            <div class="submenu">
                                <a href="#">Máy tính</a>
                                <div class="submenu-content">
                                    <a href="#">Apple</a>
                                    <a href="#">Lenovo</a>
                                    <a href="#">ASUS</a>
                                    <a href="#">Acer</a>
                                    <a href="#">HP</a>
                                    <a href="#">Dell</a>
                                </div>
                            </div>

                            <div class="submenu">
                                <a href="#">PC</a>
                                <div class="submenu-content">
                                    <a href="#">CPU</a>
                                    <a href="#">Mainboard</a>
                                    <a href="#">VGA</a>
                                    <a href="#">RAM</a>
                                    <a href="#">Vỏ PC</a>
                                    <a href="#">Thiết bị lưu trữ</a>
                                </div>
                            </div>

                            <div class="submenu">
                                <a href="#">Phụ kiện</a>
                                <div class="submenu-content">
                                    <a href="#">Chuột</a>
                                    <a href="#">Bàn phím</a>
                                    <a href="#">Tai nghe</a>
                                    <a href="#">Webcam</a>
                                </div>
                            </div>
                            </div>
                        </div>
                <div class="search-bar">
                    <input type="text" placeholder="Nhập tên điện thoại, máy tính, phụ kiện... cần tìm">
                    <button><i class="fas fa-search"></i></button>
                </div>
            </div>
            <div class="user-cart">
                <button class="icon-btn"><i class="fas fa-user"></i></button>
                <button class="cart-btn"><i class="fas fa-shopping-cart"></i> Giỏ hàng</button>
            </div>
        </div>
    </header>

    <!-- jQuery, Popper.js, Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <div class="container my-3">
        <div class="container my-3 d-flex flex-wrap justify-content-between align-items-center gap-2 brand-container">
            <a href="Trang Dienthoai của hãng/iphone.html" class="brand-btn">
                <img src="C:\Thiết kế web cuối kì\BTN\Images\Logo hãng\logo_iphone_ngang_96d4d90b82.jpg" alt="Apple" />
            </a>
            <a href="Trang Dienthoai của hãng/samsung.html" class="brand-btn">
                <img src="C:\Thiết kế web cuối kì\BTN\Images\Logo hãng\logo_samsung_ngang_50f3a6621e.jpg" alt="Samsung" />
            </a>
            <a href="Trang Dienthoai của hãng/oppo.html" class="brand-btn">
                <img src="C:\Thiết kế web cuối kì\BTN\Images\Logo hãng\logo_oppo_ngang_56d11896a7.jpg" alt="Oppo" />
            </a>
            <a href="Trang Dienthoai của hãng/xiaomi.html" class="brand-btn">
                <img src="C:\Thiết kế web cuối kì\BTN\Images\Logo hãng\logo_xiaomi_ngang_2ebf7d9586.jpg" alt="Xiaomi" />
            </a>
            <a href="Trang Dienthoai của hãng/realme.html" class="brand-btn">
                <img src="C:\Thiết kế web cuối kì\BTN\Images\Logo hãng\logo_realme_ngang_a94105de5b.jpg" alt="Realme" />
            </a>
            <a href="Trang Dienthoai của hãng/vivo.html" class="brand-btn">
                <img src="C:\Thiết kế web cuối kì\BTN\Images\Logo hãng\logo_vivo_ngang_2d5d44ee23.jpg" alt="Vivo" />
            </a>
        </div>
    </div>

    <!-- Thanh bộ lọc nâng cao -->
    <div class="container p-3 bg-light rounded shadow-sm">
    <form>
        <!-- Hàng trên: 6 mục -->
        <div class="form-row mb-2">
        <div class="form-group col-md-2">
            <label for="priceSelect">Mức giá</label>
            <select id="priceSelect" class="form-control form-control-sm">
            <option>Chọn mức giá</option>
            <option>Dưới 2 triệu</option>
            <option>2 - 4 triệu</option>
            <option>4 - 7 triệu</option>
            </select>
        </div>
        <div class="form-group col-md-2">
            <label for="osSelect">Hệ điều hành</label>
            <select id="osSelect" class="form-control form-control-sm">
            <option>Chọn hệ điều hành</option>
            <option>Android</option>
            <option>iOS</option>
            </select>
        </div>
        <div class="form-group col-md-2">
            <label for="romSelect">Dung lượng ROM</label>
            <select id="romSelect" class="form-control form-control-sm">
            <option>Chọn dung lượng</option>
            <option>64GB</option>
            <option>128GB</option>
            <option>256GB</option>
            </select>
        </div>
        <div class="form-group col-md-2">
            <label for="connectSelect">Kết nối</label>
            <select id="connectSelect" class="form-control form-control-sm">
            <option>Chọn kết nối</option>
            <option>5G</option>
            <option>4G</option>
            <option>Wifi</option>
            </select>
        </div>
        <div class="form-group col-md-2">
            <label for="performanceSelect">Hiệu năng & Pin</label>
            <select id="performanceSelect" class="form-control form-control-sm">
            <option>Chọn hiệu năng & pin</option>
            <option>Pin cao</option>
            <option>Hiệu năng mạnh</option>
            </select>
        </div>
        <div class="form-group col-md-2">
            <label for="networkSelect">Hỗ trợ mạng</label>
            <select id="networkSelect" class="form-control form-control-sm">
            <option>Chọn hỗ trợ mạng</option>
            <option>SIM 1</option>
            <option>SIM 2</option>
            <option>SIM kép</option>
            </select>
        </div>
        </div>

        <!-- Hàng dưới: 5 mục + nút lọc -->
        <div class="form-row align-items-end">
        <div class="form-group col-md-2">
            <label for="ramSelect">RAM</label>
            <select id="ramSelect" class="form-control form-control-sm">
            <option>Chọn RAM</option>
            <option>4GB</option>
            <option>6GB</option>
            <option>8GB</option>
            </select>
        </div>
        <div class="form-group col-md-2">
            <label for="memoryCardSelect">Thẻ nhớ</label>
            <select id="memoryCardSelect" class="form-control form-control-sm">
            <option>Chọn thẻ nhớ</option>
            <option>Hỗ trợ</option>
            <option>Không hỗ trợ</option>
            </select>
        </div>
        <div class="form-group col-md-2">
            <label for="screenSelect">Màn hình</label>
            <select id="screenSelect" class="form-control form-control-sm">
            <option>Chọn màn hình</option>
            <option>LCD</option>
            <option>OLED</option>
            <option>AMOLED</option>
            </select>
        </div>
        <div class="form-group col-md-2">
            <label for="refreshRateSelect">Tần số quét</label>
            <select id="refreshRateSelect" class="form-control form-control-sm">
            <option>Chọn tần số quét</option>
            <option>60Hz</option>
            <option>90Hz</option>
            <option>120Hz</option>
            </select>
        </div>
        <div class="form-group col-md-2">
            <label for="cameraSelect">Camera</label>
            <select id="cameraSelect" class="form-control form-control-sm">
            <option>Chọn camera</option>
            <option>Đơn</option>
            <option>Đôi</option>
            <option>Nhiều camera</option>
            </select>
        </div>
        <div class="form-group col-md-2">
            <button type="submit" class="btn btn-warning btn-sm btn-block">LỌC</button>
        </div>
        </div>
    </form>
    </div>


    <!-- Khung danh sách sản phẩm -->
    <div class="container my-3">
        <div class="row" id="product-list">
        <!-- Sản phẩm tạo bằng JS -->
        </div>
    </div>

    <script>
    const products = [
    {
        id: 1,
        name: "iPhone 16 Pro Max",
        image: "Images/ĐT Iphone/iphone_16_pro_max_desert_titan_3552a28ae0.jpg",
        installment: "Trả góp 0%",
        storages: [
        { capacity: "256GB", priceOld: 34990000, discountPercent: 13 },
        { capacity: "512GB", priceOld: 40990000, discountPercent: 10 },
        { capacity: "1TB", priceOld: 46990000, discountPercent: 9 },
        ],
    },
    {
        id: 2,
        name: "iPhone 16 Pro Max",
        image: "Images/ĐT Iphone/iphone_16_pro_max_desert_titan_3552a28ae0.jpg",
        installment: "Trả góp 0%",
        storages: [
        { capacity: "256GB", priceOld: 34990000, discountPercent: 13 },
        { capacity: "512GB", priceOld: 40990000, discountPercent: 10 },
        { capacity: "1TB", priceOld: 46990000, discountPercent: 9 },
        ],
    },
    {
        id: 3,
        name: "iPhone 16 Pro Max",
        image: "Images/ĐT Iphone/iphone_16_pro_max_desert_titan_3552a28ae0.jpg",
        installment: "Trả góp 0%",
        storages: [
        { capacity: "256GB", priceOld: 34990000, discountPercent: 13 },
        { capacity: "512GB", priceOld: 40990000, discountPercent: 10 },
        { capacity: "1TB", priceOld: 46990000, discountPercent: 9 },
        ],
    },
    {
        id: 4,
        name: "iPhone 16 Pro Max",
        image: "Images/ĐT Iphone/iphone_16_pro_max_desert_titan_3552a28ae0.jpg",
        installment: "Trả góp 0%",
        storages: [
        { capacity: "256GB", priceOld: 34990000, discountPercent: 13 },
        { capacity: "512GB", priceOld: 40990000, discountPercent: 10 },
        { capacity: "1TB", priceOld: 46990000, discountPercent: 9 },
        ],
    },
    {
        id: 5,
        name: "iPhone 16 Pro Max",
        image: "Images/ĐT Iphone/iphone_16_pro_max_desert_titan_3552a28ae0.jpg",
        installment: "Trả góp 0%",
        storages: [
        { capacity: "256GB", priceOld: 34990000, discountPercent: 13 },
        { capacity: "512GB", priceOld: 40990000, discountPercent: 10 },
        { capacity: "1TB", priceOld: 46990000, discountPercent: 9 },
        ],
    },
    {
        id: 6,
        name: "iPhone 16 Pro Max",
        image: "Images/ĐT Iphone/iphone_16_pro_max_desert_titan_3552a28ae0.jpg",
        installment: "Trả góp 0%",
        storages: [
        { capacity: "256GB", priceOld: 34990000, discountPercent: 13 },
        { capacity: "512GB", priceOld: 40990000, discountPercent: 10 },
        { capacity: "1TB", priceOld: 46990000, discountPercent: 9 },
        ],
    },
    {
        id: 7,
        name: "iPhone 16 Pro Max",
        image: "Images/ĐT Iphone/iphone_16_pro_max_desert_titan_3552a28ae0.jpg",
        installment: "Trả góp 0%",
        storages: [
        { capacity: "256GB", priceOld: 34990000, discountPercent: 13 },
        { capacity: "512GB", priceOld: 40990000, discountPercent: 10 },
        { capacity: "1TB", priceOld: 46990000, discountPercent: 9 },
        ],
    },
    {
        id: 8,
        name: "iPhone 16 Pro Max",
        image: "Images/ĐT Iphone/iphone_16_pro_max_desert_titan_3552a28ae0.jpg",
        installment: "Trả góp 0%",
        storages: [
        { capacity: "256GB", priceOld: 34990000, discountPercent: 13 },
        { capacity: "512GB", priceOld: 40990000, discountPercent: 10 },
        { capacity: "1TB", priceOld: 46990000, discountPercent: 9 },
        ],
    },
    {
        id: 9,
        name: "iPhone 16 Pro Max",
        image: "Images/ĐT Iphone/iphone_16_pro_max_desert_titan_3552a28ae0.jpg",
        installment: "Trả góp 0%",
        storages: [
        { capacity: "256GB", priceOld: 34990000, discountPercent: 13 },
        { capacity: "512GB", priceOld: 40990000, discountPercent: 10 },
        { capacity: "1TB", priceOld: 46990000, discountPercent: 9 },
        ],
    },
    {
        id: 10,
        name: "iPhone 16 Pro Max",
        image: "Images/ĐT Iphone/iphone_16_pro_max_desert_titan_3552a28ae0.jpg",
        installment: "Trả góp 0%",
        storages: [
        { capacity: "256GB", priceOld: 34990000, discountPercent: 13 },
        { capacity: "512GB", priceOld: 40990000, discountPercent: 10 },
        { capacity: "1TB", priceOld: 46990000, discountPercent: 9 },
        ],
    },
    {
        id: 11,
        name: "iPhone 16 Pro Max",
        image: "Images/ĐT Iphone/iphone_16_pro_max_desert_titan_3552a28ae0.jpg",
        installment: "Trả góp 0%",
        storages: [
        { capacity: "256GB", priceOld: 34990000, discountPercent: 13 },
        { capacity: "512GB", priceOld: 40990000, discountPercent: 10 },
        { capacity: "1TB", priceOld: 46990000, discountPercent: 9 },
        ],
    },
    {
        id: 12,
        name: "iPhone 16 Pro Max",
        image: "Images/ĐT Iphone/iphone_16_pro_max_desert_titan_3552a28ae0.jpg",
        installment: "Trả góp 0%",
        storages: [
        { capacity: "256GB", priceOld: 34990000, discountPercent: 13 },
        { capacity: "512GB", priceOld: 40990000, discountPercent: 10 },
        { capacity: "1TB", priceOld: 46990000, discountPercent: 9 },
        ],
    }
    ];

    function calcPriceNew(priceOld, discountPercent) {
    return priceOld * (1 - discountPercent / 100);
    }

    function formatPrice(price) {
    return price.toLocaleString("vi-VN") + " ₫";
    }

    function displayProducts(list) {
    const productList = document.getElementById("product-list");
    productList.innerHTML = "";

    list.forEach(product => {
        const col = document.createElement("div");
        col.className = "col-md-3 mb-4";

        const defaultStorage = product.storages[0];
        const priceNew = calcPriceNew(defaultStorage.priceOld, defaultStorage.discountPercent);

        // Tạo 3 nút button cho dung lượng
        const storageOptions = product.storages.map((storage, idx) => `
        <button type="button" class="btn btn-outline-secondary ${idx === 0 ? "active" : ""}" data-index="${idx}">
            ${storage.capacity}
        </button>
        `).join("");

        col.innerHTML = `
        <div class="product-card d-flex flex-column">
            <img src="${product.image}" alt="${product.name}" />
            <h5>${product.name}</h5>
            <p>${product.installment}</p>
            <div>
            <span class="price-old">${formatPrice(defaultStorage.priceOld)}</span>
            <span class="discount">-${defaultStorage.discountPercent}%</span>
            </div>
            <h4 id="product-price-${product.id}">${formatPrice(priceNew)}</h4>

            <div class="storage-options d-flex flex-wrap gap-2 mb-3" role="group" aria-label="Storage options">
                ${storageOptions}
            </div>


            <button class="add-cart btn btn-danger mt-auto">Thêm vào giỏ hàng</button>
        </div>
        `;

        productList.appendChild(col);

        // Gán sự kiện click cho các nút dung lượng
        const btnGroup = col.querySelector("div[role='group']");
        btnGroup.querySelectorAll("button").forEach(button => {
        button.addEventListener("click", e => {
            const idx = parseInt(e.target.dataset.index);
            const storage = product.storages[idx];
            const newPrice = calcPriceNew(storage.priceOld, storage.discountPercent);

            const priceOldElem = col.querySelector(".price-old");
            const discountElem = col.querySelector(".discount");
            const priceNewElem = document.getElementById(`product-price-${product.id}`);

            priceOldElem.textContent = formatPrice(storage.priceOld);
            discountElem.textContent = `-${storage.discountPercent}%`;
            priceNewElem.textContent = formatPrice(newPrice);

            btnGroup.querySelectorAll("button").forEach(btn => btn.classList.remove("active"));
            e.target.classList.add("active");
        });
        });
    });
    }


    displayProducts(products);
    </script>

</body>
</html>
