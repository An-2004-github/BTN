<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iMac 24 inch M4 2024 - Chi tiết sản phẩm</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../style.css">
</head>
<body class="ctsp">
    <div id="header"></div>
    <main class="container my-4">
        <nav aria-label="breadcrumb" class="breadcrumb-nav">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="#">Trang chủ</a></li>
                <li class="breadcrumb-item"><a href="#">Máy tính</a></li>
                <li class="breadcrumb-item active" aria-current="page">iMac 24 inch M4 2024</li>
            </ol>
        </nav>

        <section class="product-detail-main">
            <div class="row">
                <div class="col-lg-6">
                    <div class="product-gallery">
                        <div class="main-image-container">
                            <img src="../../Images/Logo/apple image/iMac 24 inch M4 2024.jpg" alt="iMac 24 inch M4 2024 - Blue" class="img-fluid main-product-image" id="mainImage">
                        </div>
                        <div class="thumbnail-images">
                            <img src="../../Images/Logo/apple image/iMac 24 inch M4 2024.jpg" alt="Thumbnail 1" class="thumbnail active" onclick="changeImage(this.src)">
                            <img src="../../Images/Logo/apple image/iMAC 24i 2023 M3.png" alt="Thumbnail 2" class="thumbnail" onclick="changeImage(this.src)">
                            <img src="../../Images/Logo/apple image/Mac mini M4 2024.jpeg" alt="Thumbnail 3" class="thumbnail" onclick="changeImage(this.src)">
                            <img src="../../images/Logo/apple image/iMac sang lang.jpg" alt="Thumbnail 4" class="thumbnail" onclick="changeImage(this.src)">
                        </div>
                    </div>
                </div>

                <div class="col-lg-6">
                    <div class="product-info">
                        <h1 class="product-title">iMac 24 inch M4 2024</h1>
                        <div class="product-meta">
                            <span>Thương hiệu: <a href="#" class="text-primary">Apple</a></span>
                            <span class="mx-2">|</span>
                            <span>SKU: AP-IMAC24-M4-BL</span>
                        </div>

                        <div class="price-section">
                            <span class="price-newctsp">35.640.000 ₫</span>
                            <span class="price-oldctsp">39.990.000 ₫</span>
                            <span class="discount-badge">-10%</span>
                        </div>
                        
                        <div class="variant-selection">
                        <p><strong>Chọn màu sắc:</strong></p>
                        <div class="colors">
                            <button class="color-swatch active" style="background-color: #7DB1E3;" data-color="Blue"></button>
                            <button class="color-swatch" style="background-color: #E3E4E6;" data-color="Silver"></button>
                            <button class="color-swatch" style="background-color: #F3D7C9;" data-color="Pink"></button>
                            <button class="color-swatch" style="background-color: #AEE1CD;" data-color="Green"></button>
                        </div>
                        </div>

                        <div class="product-promo">
                            <p class="font-weight-bold mb-2">Ưu đãi đặc biệt:</p>
                            <ul>
                                <li><i class="fas fa-check-circle text-success"></i> Giảm thêm <strong>500.000đ</strong> khi thanh toán qua VNPAY.</li>
                                <li><i class="fas fa-check-circle text-success"></i> Hỗ trợ trả góp 0% lãi suất qua thẻ tín dụng.</li>
                                <li><i class="fas fa-check-circle text-success"></i> Miễn phí vận chuyển toàn quốc.</li>
                            </ul>
                        </div>
                        
                        <div class="quantity-section">
                             <p><strong>Số lượng:</strong></p>
                             <div class="quantity-selector">
                                <button class="btn-quantity" id="decrease-qty">-</button>
                                <input type="number" id="quantity" value="1" min="1">
                                <button class="btn-quantity" id="increase-qty">+</button>
                            </div>
                        </div>

                        <div class="product-buttons">
                            <button class="btn-buy-now">Mua ngay</button>
                            <button class="btn-add-cart"><i class="fas fa-cart-plus"></i> Thêm vào giỏ</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="product-description-specs mt-5">
            <ul class="nav nav-tabs" id="myTab" role="tablist">
                <li class="nav-item">
                    <a class="nav-link active" id="description-tab" data-toggle="tab" href="#description" role="tab">Mô tả sản phẩm</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="specs-tab" data-toggle="tab" href="#specs" role="tab">Thông số kỹ thuật</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="reviews-tab" data-toggle="tab" href="#reviews" role="tab">Đánh giá (3)</a>
                </li>
            </ul>
            <div class="tab-content" id="myTabContent">
                <div class="tab-pane fade show active" id="description" role="tabpanel">
                    <h4 class="mt-4">Thiết Kế Mỏng Đến Kinh Ngạc. Sức Mạnh Từ Chip M4.</h4>
                    <p>Chào mừng bạn đến với iMac mới — được tái định hình hoàn toàn nhờ sức mạnh của chip Apple M4. Với thiết kế siêu mỏng chỉ 11,5mm và màn hình Retina 4.5K 24 inch tuyệt đẹp, iMac mang đến hiệu năng vượt trội và hình ảnh sống động trong một thân máy nhỏ gọn. Bảy màu sắc rực rỡ giúp bạn thể hiện cá tính riêng.</p>
                    <h5>Màn Hình Retina 4.5K Đỉnh Cao</h5>
                    <p>Mọi chi tiết đều trở nên sắc nét và rực rỡ trên màn hình Retina 4.5K. Độ sáng 500 nit, dải màu rộng P3 và công nghệ True Tone mang lại trải nghiệm xem chân thực, thoải mái cho mắt trong mọi điều kiện ánh sáng.</p>
                    <h5>Hiệu Năng Bùng Nổ Với M4</h5>
                    <p>Chip M4 mới nhất mang đến hiệu năng CPU nhanh hơn đến 50% và hiệu năng đồ họa nhanh hơn gấp đôi so với M1. Dù bạn đang chỉnh sửa video 4K, thiết kế đồ họa phức tạp hay chơi game đỉnh cao, iMac M4 đều xử lý mượt mà.</p>
                </div>
                <div class="tab-pane fade" id="specs" role="tabpanel">
                    <h4 class="mt-4">Thông số kỹ thuật chi tiết iMac 24 inch M4 2024</h4>
                    <table class="table table-striped table-bordered mt-3">
                        <tbody>
                            <tr>
                                <th scope="row">CPU</th>
                                <td>Apple M4 với 8 lõi CPU (4 lõi hiệu năng và 4 lõi tiết kiệm điện)</td>
                            </tr>
                            <tr>
                                <th scope="row">GPU</th>
                                <td>10 lõi GPU, Ray Tracing tăng tốc phần cứng</td>
                            </tr>
                             <tr>
                                <th scope="row">Neural Engine</th>
                                <td>16 lõi</td>
                            </tr>
                            <tr>
                                <th scope="row">RAM</th>
                                <td>8GB RAM hợp nhất (Có thể cấu hình lên 16GB hoặc 24GB)</td>
                            </tr>
                            <tr>
                                <th scope="row">Ổ cứng</th>
                                <td>256GB SSD (Có thể cấu hình lên 512GB, 1TB, hoặc 2TB)</td>
                            </tr>
                            <tr>
                                <th scope="row">Màn hình</th>
                                <td>24 inch Retina 4.5K, độ phân giải 4480x2520, độ sáng 500 nit, dải màu P3, True Tone</td>
                            </tr>
                            <tr>
                                <th scope="row">Camera</th>
                                <td>FaceTime HD 1080p với bộ xử lý tín hiệu hình ảnh tiên tiến</td>
                            </tr>
                            <tr>
                                <th scope="row">Cổng kết nối</th>
                                <td>2 cổng Thunderbolt / USB 4, 2 cổng USB 3, Gigabit Ethernet, Jack 3.5mm</td>
                            </tr>
                            <tr>
                                <th scope="row">Kết nối không dây</th>
                                <td>Wi-Fi 6E (802.11ax), Bluetooth 5.3</td>
                            </tr>
                            <tr>
                                <th scope="row">Trong hộp có</th>
                                <td>iMac, Magic Keyboard with Touch ID, Magic Mouse, Bộ nguồn 143W, Dây nguồn (2m), Cáp USB-C to Lightning</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="tab-pane fade" id="reviews" role="tabpanel">
                    <h4 class="mt-4">Đánh giá từ khách hàng</h4>
                    </div>
            </div>
        </section>

         <section class="related-products mt-5">
            <h3 class="text-center mb-4">Sản phẩm tương tự</h3>
            <div class="row">
                </div>
        </section>
    </main>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {

    // --- IMAGE GALLERY LOGIC ---
    // Hàm này dùng để thay đổi ảnh chính khi click vào ảnh thumbnail
    window.changeImage = function(newSrc) {
        const mainImage = document.getElementById('mainImage');
        mainImage.src = newSrc;

        // Cập nhật trạng thái 'active' cho thumbnail
        const thumbnails = document.querySelectorAll('.thumbnail-images .thumbnail');
        thumbnails.forEach(thumb => {
            thumb.classList.remove('active');
            if (thumb.src === newSrc) {
                thumb.classList.add('active');
            }
        });
    };

    // --- COLOR SWATCH LOGIC ---
    const colorSwatches = document.querySelectorAll('.color-swatch');
    colorSwatches.forEach(swatch => {
        swatch.addEventListener('click', function() {
            // Xóa active khỏi tất cả các swatch
            colorSwatches.forEach(s => s.classList.remove('active'));
            // Thêm active cho swatch được click
            this.classList.add('active');
            // Trong một ứng dụng thực tế, bạn sẽ thay đổi ảnh hoặc SKU ở đây
            console.log('Selected color:', this.dataset.color);
        });
    });

    // --- QUANTITY COUNTER LOGIC ---
    const decreaseBtn = document.getElementById('decrease-qty');
    const increaseBtn = document.getElementById('increase-qty');
    const quantityInput = document.getElementById('quantity');

    decreaseBtn.addEventListener('click', function() {
        let currentValue = parseInt(quantityInput.value);
        if (currentValue > 1) {
            quantityInput.value = currentValue - 1;
        }
    });

    increaseBtn.addEventListener('click', function() {
        let currentValue = parseInt(quantityInput.value);
        quantityInput.value = currentValue + 1;
    });

    // --- BOOTSTRAP TABS INITIALIZATION ---
    // Đoạn mã này đảm bảo các tab của Bootstrap hoạt động đúng
    $('#myTab a').on('click', function (e) {
        e.preventDefault();
        $(this).tab('show');
    });
});

    </script>
    <script src="../../sanpham.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {

    // ----- BẮT ĐẦU CODE HIỂN THỊ SẢN PHẨM TƯƠNG TỰ -----

    // LƯU Ý QUAN TRỌNG:
    // Sếp hãy đảm bảo tên biến dưới đây ("macProducts")
    // khớp với tên biến chứa danh sách sản phẩm trong file "sanpham.js" của sếp.
    // Nếu trong file sanpham.js sếp đặt là "const sp = [...]" thì hãy đổi "macProducts" thành "sp".
    const productsToShow = Mac; 

    const relatedContainer = document.querySelector('.related-products .row');
    const currentProductTitle = document.querySelector('.product-title').textContent;

    // Hàm tiện ích để định dạng giá tiền
    function formatPrice(price) {
        if (!price) return '';
        return price.toLocaleString("vi-VN") + " ₫";
    }

    if (productsToShow && relatedContainer) {
        // Lọc để loại bỏ sản phẩm đang xem và lấy ngẫu nhiên 4 sản phẩm khác
        const randomRelatedProducts = productsToShow
            .filter(p => p.name !== currentProductTitle) // Loại sản phẩm hiện tại
            .sort(() => 0.5 - Math.random())            // Xáo trộn mảng
            .slice(0, 4);                               // Chọn 4 sản phẩm đầu tiên

        if (randomRelatedProducts.length > 0) {
            let productsHTML = '';
            randomRelatedProducts.forEach(product => {
                // Tạo HTML cho mỗi thẻ sản phẩm
                // BỌC product-card BÊN TRONG MỘT THẺ DIV CÓ CLASS COLUMN CỦA BOOTSTRAP
                productsHTML += `
                    <div class="col-lg-3 col-md-4 col-6 mb-4">
                        <div class="productctsp-card h-100 d-flex flex-column">
                            <a href="#">
                                <img src="${product.image}" class="card-img-top" alt="${product.name}" style="height: 250px; object-fit: contain; background: white; border-bottom: 1px solid #eee;">
                            </a>
                            <div class="card-body d-flex flex-column">
                                <!-- Tên sản phẩm -->
                                <h5 class="card-title mb-2" style="font-size: 1rem; flex-grow: 1;">${product.name}</h5>

                                <!-- Khối giá cũ + giảm giá -->
                                <div class="d-flex justify-content-between align-items-center mb-1 flex-wrap">
                                    <span class="price-old">${formatPrice(product.priceOld)}</span>
                                    ${
                                        product.discountPercent > 0
                                        ? `<span class="discount text-danger">-${product.discountPercent}%</span>`
                                        : ""
                                    }
                                </div>

                                <!-- Giá mới -->
                                <h4 class="price-new mb-3">${formatPrice(product.priceNew)}</h4>

                                <!-- Nút thêm vào giỏ -->
                                <button class="btn btn-danger btn-block add-cart mt-auto">Thêm vào giỏ hàng</button>
                            </div>
                        </div>
                    </div>

                `;
            });
            // Chèn toàn bộ HTML đã tạo vào container
            relatedContainer.innerHTML = productsHTML;
        }
    }
    // ----- KẾT THÚC CODE HIỂN THỊ SẢN PHẨM TƯƠNG TỰ -----
});
    </script>
    <div id="footer"></div>
    <script>
      fetch("../../footer.html")
        .then((res) => res.text())
        .then((data) => (document.getElementById("footer").innerHTML = data));
    </script>
    <script>
      fetch("../../header.html")
        .then((res) => res.text())
        .then((data) => (document.getElementById("header").innerHTML = data));
    </script>
</body>
</html>