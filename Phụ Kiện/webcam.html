<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Webcam, Livestream, Học trực tuyến | Chính hãng</title>

    <link rel="stylesheet" href="..\style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>
    <header class="header"></header>
    <script>
        fetch('../header.html')
        .then(res => res.text())
        .then(data => document.getElementById('header').innerHTML = data);
    </script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <div id = 'header'></div>
    <div class="container my-3">
    <div class="container my-3 d-flex flex-wrap justify-content-start align-items-center gap-3 brand-container"> 
        <a href="#" class="brand-btn" data-brand="Logitech">
            <img src="../Images/Logo hãng/logitech_g-logo_brandlogos.net_tzeki.png" alt="Logitech" style="max-height: 35px;"/>
        </a>
        <a href="#" class="brand-btn" data-brand="Razer">
            <img src="../Images/Logo hãng/razer.png" alt="Razer" style="max-height: 35px;" />
        </a>
        <a href="#" class="brand-btn" data-brand="Asus">
            <img src="../Images/Logo hãng/asus.png" alt="Asus" style="max-height: 35px;" />
        </a>
        <a href="#" class="brand-btn" data-brand="Dell">
            <img src="../Images/Logo hãng/Dell.png" alt="Dell" style="max-height: 35px;" />
        </a>
        <a href="#" class="brand-btn" data-brand="Anker">
            <img src="../Images/Logo hãng/Anker.png" alt="Anker" style="max-height: 35px;" />
        </a>
        <a href="#" class="brand-btn" data-brand="Elgato">
            <img src="../Images/Logo hãng/Elgato.png" alt="Elgato" style="max-height: 35px;" />
        </a>
        <a href="#" class="brand-btn" data-brand="Creative">
            <img src="../Images/Logo hãng/Creative.png" alt="Creative" style="max-height: 35px;" />
        </a>
        <a href="#" class="brand-btn" data-brand="Xiaomi">
            <img src="../Images/Logo hãng/Xiaomi.jpg" alt="Xiaomi" style="max-height: 35px;" />
        </a>
        <a href="#" class="brand-btn" data-brand="Corsair">
            <img src="../Images/Logo hãng/corsair-2-logo-black-and-white.png" alt="Corsair" style="max-height: 35px;" />
        </a>
        <a href="#" class="brand-btn" data-brand="Poly">
            <img src="../Images/Logo hãng/Poly.png" alt="Poly" style="max-height: 35px;" />
        </a>
        </div>
    </div>

    <div class="container p-3 bg-light rounded shadow-sm">
        <form id="filterForm">
            <div class="form-row">
                <div class="form-group col-md-3">
                    <label for="brandSelect">Thương hiệu</label>
                    <select id="brandSelect" class="form-control form-control-sm">
                        <option value="Tất cả">Tất cả</option>
                        </select>
                </div>
                <div class="form-group col-md-3">
                    <label for="priceSelect">Mức giá</label>
                    <select id="priceSelect" class="form-control form-control-sm">
                        <option value="Tất cả">Tất cả</option>
                        <option value="Dưới 1 triệu">Dưới 1 triệu</option>
                        <option value="1 - 2 triệu">1 - 2 triệu</option>
                        <option value="2 - 4 triệu">2 - 4 triệu</option>
                        <option value="Trên 4 triệu">Trên 4 triệu</option>
                    </select>
                </div>
                <div class="form-group col-md-3">
                    <label for="resolutionSelect">Độ phân giải</label>
                    <select id="resolutionSelect" class="form-control form-control-sm">
                        <option value="Tất cả">Tất cả</option>
                        <option>Full HD 1080p</option>
                        <option>2K</option>
                        <option>4K Ultra HD</option>
                    </select>
                </div>
                <div class="form-group col-md-3">
                    <label for="featureSelect">Tính năng</label>
                    <select id="featureSelect" class="form-control form-control-sm">
                        <option value="Tất cả">Tất cả</option>
                        <option>Tích hợp micro</option>
                        <option>Lấy nét tự động</option>
                    </select>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col-12 text-right">
                    <button type="submit" class="btn btn-warning btn-sm">LỌC KẾT QUẢ</button>
                </div>
            </div>
        </form>
    </div>

    <div class="container my-3">
        <div class="row" id="product-list">
            </div>
    </div>

    <div id="toast" style="visibility: hidden; min-width: 250px; background-color: #4CAF50; color: white; text-align: center; border-radius: 8px; padding: 16px; position: fixed; z-index: 1000; left: 50%; top: 50%; transform: translate(-50%, -50%); font-size: 17px; opacity: 0; transition: opacity 0.5s ease-in-out;">
    </div>

    <div id="footer"></div>
    <script>
    // Dữ liệu sản phẩm webcam
    const products = [
    {
        id: 1,
        name: "Logitech C922 Pro Stream",
        image: "../Images/Webcam/Logitech C922 Pro Stream.webp",
        brand: "Logitech",
        resolution: "Full HD 1080p",
        features: ["Tích hợp micro", "Lấy nét tự động"],
        priceOld: 2890000,
        discountPercent: 15,
    },
    {
        id: 2,
        name: "Razer Kiyo Pro",
        image: "../Images/Webcam/Razer Kiyo Pro.webp",
        brand: "Razer",
        resolution: "Full HD 1080p",
        features: ["Tích hợp micro", "Lấy nét tự động", "HDR"],
        priceOld: 4990000,
        discountPercent: 10,
    },
    {
        id: 3,
        name: "Logitech Brio 4K",
        image: "../Images/Webcam/Logitech Brio 4K.png",
        brand: "Logitech",
        resolution: "4K Ultra HD",
        features: ["Tích hợp micro", "Lấy nét tự động", "Windows Hello"],
        priceOld: 5490000,
        discountPercent: 12,
    },
    {
        id: 4,
        name: "Asus ROG Eye S",
        image: "../Images/Webcam/Asus ROG Eye S.png",
        brand: "Asus",
        resolution: "Full HD 1080p",
        features: ["Tích hợp micro", "Lấy nét tự động"],
        priceOld: 2590000,
        discountPercent: 20,
    },
    {
        id: 5,
        name: "Logitech C270 HD",
        image: "../Images/Webcam/Logitech C270 HD.webp",
        brand: "Logitech",
        resolution: "HD 720p",
        features: ["Tích hợp micro"],
        priceOld: 790000,
        discountPercent: 25,
    },
    {
        id: 6,
        name: "Logitech StreamCam",
        image: "../Images/Webcam/Logitech StreamCam.jpg",
        brand: "Logitech",
        resolution: "Full HD 1080p",
        features: ["Tích hợp micro", "Lấy nét tự động", "Xoay dọc khung hình"],
        priceOld: 3490000,
        discountPercent: 18,
    },
    {
        id: 7,
        name: "Razer Kiyo",
        image: "../Images/Webcam/Razer Kiyo.png",
        brand: "Razer",
        resolution: "Full HD 1080p",
        features: ["Tích hợp micro", "Lấy nét tự động", "Tích hợp đèn"],
        priceOld: 2490000,
        discountPercent: 14,
    },
    {
        id: 8,
        name: "Logitech C930e",
        image: "../Images/Webcam/Logitech C930e.png",
        brand: "Logitech",
        resolution: "Full HD 1080p",
        features: ["Tích hợp micro", "Lấy nét tự động", "Góc quay rộng"],
        priceOld: 3190000,
        discountPercent: 10,
    },
    // 12 sản phẩm được thêm vào
    {
        id: 9,
        name: "Dell UltraSharp WB7022",
        image: "../Images/Webcam/Dell UltraSharp WB7022.webp",
        brand: "Dell",
        resolution: "4K Ultra HD",
        features: ["Tích hợp micro", "Lấy nét tự động", "HDR"],
        priceOld: 5990000,
        discountPercent: 10,
    },
    {
        id: 10,
        name: "AnkerWork B600 Video Bar",
        image: "../Images/Webcam/AnkerWork B600 Video Bar.webp",
        brand: "Anker",
        resolution: "2K QHD",
        features: ["Tích hợp micro", "Lấy nét tự động", "Tích hợp đèn"],
        priceOld: 4490000,
        discountPercent: 15,
    },
    {
        id: 11,
        name: "Elgato Facecam",
        image: "../Images/Webcam/Elgato Facecam.webp",
        brand: "Elgato",
        resolution: "Full HD 1080p",
        features: ["Lấy nét cố định (Fixed Focus)"],
        priceOld: 3990000,
        discountPercent: 12,
    },
    {
        id: 12,
        name: "Creative Live! Cam Sync 1080p V2",
        image: "../Images/Webcam/Creative Live! Cam Sync 1080p V2.jpg",
        brand: "Creative",
        resolution: "Full HD 1080p",
        features: ["Tích hợp micro kép", "Nắp che ống kính"],
        priceOld: 1290000,
        discountPercent: 20,
    },
    {
        id: 13,
        name: "Logitech C505 HD",
        image: "../Images/Webcam/Logitech C505 HD.webp",
        brand: "Logitech",
        resolution: "HD 720p",
        features: ["Tích hợp micro tầm xa"],
        priceOld: 1190000,
        discountPercent: 18,
    },
    {
        id: 14,
        name: "Xiaomi Imilab W88S",
        image: "../Images/Webcam/Xiaomi Imilab W88S.png",
        brand: "Xiaomi",
        resolution: "Full HD 1080p",
        features: ["Tích hợp micro", "Chân đế đa năng"],
        priceOld: 590000,
        discountPercent: 30,
    },
    {
        id: 15,
        name: "Corsair Facecam",
        image: "../Images/Webcam/Corsair Facecam.webp",
        brand: "Corsair",
        resolution: "Full HD 1080p",
        features: ["Cảm biến Sony", "Lấy nét cố định (Fixed Focus)"],
        priceOld: 3890000,
        discountPercent: 10,
    },
    {
        id: 16,
        name: "Anker PowerConf C200",
        image: "../Images/Webcam/Anker PowerConf C200.webp",
        brand: "Anker",
        resolution: "2K QHD",
        features: ["Tích hợp micro", "Lấy nét tự động", "Nắp che ống kính"],
        priceOld: 1750000,
        discountPercent: 15,
    },
    {
        id: 17,
        name: "Asus Webcam C3",
        image: "../Images/Webcam/Asus Webcam C3.jpg",
        brand: "Asus",
        resolution: "Full HD 1080p",
        features: ["Tích hợp micro", "Xoay 360 độ"],
        priceOld: 1490000,
        discountPercent: 22,
    },
    {
        id: 18,
        name: "Poly Studio P5",
        image: "../Images/Webcam/Poly Studio P5.jpg",
        brand: "Poly",
        resolution: "Full HD 1080p",
        features: ["Tích hợp micro", "Lấy nét tự động", "Nắp che ống kính"],
        priceOld: 2990000,
        discountPercent: 10,
    },
    {
        id: 19,
        name: "Razer Kiyo X",
        image: "../Images/Webcam/Razer Kiyo X.jpg",
        brand: "Razer",
        resolution: "Full HD 1080p",
        features: ["Lấy nét tự động", "Tùy chỉnh cài đặt"],
        priceOld: 1990000,
        discountPercent: 15,
    },
    {
        id: 20,
        name: "Logitech C310 HD",
        image: "../Images/Webcam/Logitech C310 HD.png",
        brand: "Logitech",
        resolution: "HD 720p",
        features: ["Tích hợp micro", "Công nghệ RightLight 2"],
        priceOld: 990000,
        discountPercent: 20,
    }
];

    // Các hàm tiện ích
    function calcPriceNew(priceOld, discountPercent) {
        return priceOld * (1 - discountPercent / 100);
    }

    function formatPrice(price) {
        return price.toLocaleString("vi-VN") + " ₫";
    }

    function showToast(message) {
        const toast = document.getElementById('toast');
        toast.textContent = message;
        toast.style.visibility = 'visible';
        toast.style.opacity = '1';

        setTimeout(() => {
            toast.style.opacity = '0';
            setTimeout(() => {
                toast.style.visibility = 'hidden';
            }, 500);
        }, 2000);
    }

    // Logic hiển thị sản phẩm
    function displayProducts(list) {
        const productList = document.getElementById("product-list");
        productList.innerHTML = "";

        if (list.length === 0) {
            productList.innerHTML = `<div class="col-12"><p class="text-center">Không tìm thấy sản phẩm phù hợp.</p></div>`;
            return;
        }

        list.forEach(product => {
            const col = document.createElement("div");
            col.className = "col-md-3 mb-4";

            const priceNew = calcPriceNew(product.priceOld, product.discountPercent);

            col.innerHTML = `
            <div class="product-card d-flex flex-column h-100">
                <img src="${product.image}" alt="${product.name}" class="img-fluid" style="height: 200px; object-fit: contain; background: white; border-radius: 6px; padding: 10px;" />
                <h5 class="mt-2">${product.name}</h5>
                <p>Độ phân giải: ${product.resolution}</p>
                <p>Tính năng: ${product.features.join(', ')}</p>
                <div>
                    <span class="price-old">${formatPrice(product.priceOld)}</span>
                    <span class="discount">-${product.discountPercent}%</span>
                </div>
                <h4 id="product-price-${product.id}">${formatPrice(priceNew)}</h4>
                <button class="add-cart btn btn-danger mt-auto">Thêm vào giỏ hàng</button>
            </div>
            `;

            productList.appendChild(col);

            const addCartBtn = col.querySelector('.add-cart');
            addCartBtn.addEventListener('click', () => {
                showToast(`Đã thêm "${product.name}" vào giỏ!`);
            });
        });
    }

    // Điền các tùy chọn thương hiệu vào select box
    function populateBrandSelect() {
        const brandSelect = document.getElementById('brandSelect');
        const brands = new Set(); 
        products.forEach(product => {
            if (product.brand) {
                brands.add(product.brand);
            }
        });

        brands.forEach(brand => {
            const option = document.createElement('option');
            option.value = brand;
            option.textContent = brand;
            brandSelect.appendChild(option);
        });
    }

    document.addEventListener('DOMContentLoaded', populateBrandSelect);


    // Logic lọc form
    document.getElementById('filterForm').addEventListener('submit', e => {
        e.preventDefault();

        const brandValue = document.getElementById('brandSelect').value;
        const priceValue = document.getElementById('priceSelect').value;
        const resolutionValue = document.getElementById('resolutionSelect').value;
        const featureValue = document.getElementById('featureSelect').value;

        const filtered = products.filter(product => {
            const priceNew = calcPriceNew(product.priceOld, product.discountPercent);
            
            const brandOk = brandValue === 'Tất cả' || product.brand === brandValue;

            let priceOk = true;
            if (priceValue === 'Dưới 1 triệu') priceOk = priceNew < 1000000;
            else if (priceValue === '1 - 2 triệu') priceOk = priceNew >= 1000000 && priceNew < 2000000;
            else if (priceValue === '2 - 4 triệu') priceOk = priceNew >= 2000000 && priceNew < 4000000;
            else if (priceValue === 'Trên 4 triệu') priceOk = priceNew >= 4000000;
            
            const resolutionOk = resolutionValue === 'Tất cả' || product.resolution === resolutionValue;

            const featureOk = featureValue === 'Tất cả' || product.features.includes(featureValue);

            return brandOk && priceOk && resolutionOk && featureOk;
        });

        displayProducts(filtered);
    });


    // Logic hiển thị sản phẩm khi click vào logo
    document.querySelectorAll('.brand-btn').forEach(button => {
        button.addEventListener('click', function(e) {
            e.preventDefault(); 
            const brand = this.dataset.brand;

            document.getElementById('brandSelect').value = 'Tất cả';
            document.getElementById('priceSelect').value = 'Tất cả';
            document.getElementById('resolutionSelect').value = 'Tất cả';
            document.getElementById('featureSelect').value = 'Tất cả';

            if (brand === 'all') { 
                displayProducts(products);
            } else {
                document.getElementById('brandSelect').value = brand;

                const filteredByBrand = products.filter(product => product.brand === brand);
                displayProducts(filteredByBrand);
            }
        });
    });

    // Hiển thị tất cả sản phẩm ban đầu
    displayProducts(products);
    </script>
    <div id="footer"></div>
    <script>
        fetch('../footer.html')
        .then(res => res.text())
        .then(data => document.getElementById('footer').innerHTML = data);
    </script>
</body>
</html>